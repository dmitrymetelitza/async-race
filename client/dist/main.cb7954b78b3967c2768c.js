(()=>{"use strict";var t={611:(t,e,n)=>{n.r(e)},488:(t,e,n)=>{n.r(e)},814:(t,e,n)=>{n.r(e)},704:(t,e,n)=>{n.r(e)},803:(t,e,n)=>{n.r(e)},262:(t,e,n)=>{n.r(e)},575:(t,e,n)=>{n.r(e)},191:(t,e,n)=>{n.r(e)},621:(t,e,n)=>{n.r(e)},850:(t,e,n)=>{n.r(e)},724:function(t,e){var n=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(s,a){function r(t){try{l(i.next(t))}catch(t){a(t)}}function o(t){try{l(i.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,o)}l((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.deleteWinner=e.updateWinner=e.createWinner=e.getWinner=e.getAllWinners=e.switchToDriveMode=e.stopEngineCar=e.startEngineCar=e.updateCar=e.deleteCar=e.createCar=e.getAllCars=e.getCar=void 0;const i="http://127.0.0.1:3000";e.getCar=t=>n(void 0,void 0,void 0,(function*(){try{const e=yield fetch(`${i}/garage/${t}`),n=yield e.json();return 200===e.status?n:null}catch(t){throw new Error(t)}})),e.getAllCars=(t=1,e=7)=>n(void 0,void 0,void 0,(function*(){try{const n=yield fetch(`${i}/garage?_limit=${e}&_page=${t}`),s=yield n.json();return 200===n.status?{cars:s,count:n.headers.get("X-Total-Count")||"0"}:null}catch(t){throw new Error(t)}})),e.createCar=t=>n(void 0,void 0,void 0,(function*(){try{yield fetch(`${i}/garage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}catch(t){throw new Error(t)}})),e.deleteCar=t=>n(void 0,void 0,void 0,(function*(){try{yield fetch(`${i}/garage/${t}`,{method:"DELETE"})}catch(t){throw new Error(t)}})),e.updateCar=t=>n(void 0,void 0,void 0,(function*(){try{yield fetch(`${i}/garage/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}catch(t){throw new Error(t)}})),e.startEngineCar=t=>n(void 0,void 0,void 0,(function*(){try{const e=yield fetch(`${i}/engine?id=${t}&status=started`),n=yield e.json();return{status:e.status,result:n}}catch(t){throw new Error(t)}})),e.stopEngineCar=t=>n(void 0,void 0,void 0,(function*(){try{const e=yield fetch(`${i}/engine?id=${t}&status=stopped`),n=yield e.json();return{status:e.status,result:n}}catch(t){throw new Error(t)}})),e.switchToDriveMode=t=>n(void 0,void 0,void 0,(function*(){try{return(yield fetch(`${i}/engine?id=${t}&status=drive`)).status}catch(t){throw new Error(t)}})),e.getAllWinners=(t,e="time",s="ASC",a=10)=>n(void 0,void 0,void 0,(function*(){try{const n=yield fetch(`${i}/winners?_page=${t}&_limit=${a}&_sort=${e}&_order=${s}`);return{result:yield n.json(),totalCount:n.headers.get("X-Total-Count")||"0"}}catch(t){throw new Error(t)}})),e.getWinner=t=>n(void 0,void 0,void 0,(function*(){try{const e=yield fetch(`${i}/winners/${t}`),n=yield e.json();return{status:e.status,result:n}}catch(t){throw new Error(t)}})),e.createWinner=t=>n(void 0,void 0,void 0,(function*(){try{return(yield fetch(`${i}/winners`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).status}catch(t){throw new Error(t)}})),e.updateWinner=t=>n(void 0,void 0,void 0,(function*(){try{yield fetch(`${i}/winners/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}catch(t){throw new Error(t)}})),e.deleteWinner=t=>n(void 0,void 0,void 0,(function*(){try{yield fetch(`${i}/winners/${t}`,{method:"DELETE"})}catch(t){throw new Error(t)}}))},752:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.App=void 0;const i=n(425),s=n(977),a=n(440);e.App=class{constructor(t){this.rootElement=t,new s.Header(this.rootElement),this.main=new i.Component(this.rootElement,"main",["main"]),this.router=new a.Router(this.main.element)}init(){this.router.initRouter()}}},651:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.UIButton=void 0;const i=n(425);n(611);class s extends i.Component{constructor(t,e=[],n,i=!1){super(t,"button",["btn"],n),this.onClickButton=()=>{},this.element.classList.add(...e),this.element.addEventListener("click",(()=>this.onClickButton())),i&&this.setDisabled(!0)}setDisabled(t=!1){this.element.toggleAttribute("disabled",t)}removeDisabled(){this.element.removeAttribute("disabled")}}e.UIButton=s},674:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.UIInput=void 0;const i=n(425);n(488);class s extends i.Component{constructor(t,e,n=[],i){super(t,"input",["ui-input"]),this.getInputValue=()=>{},this.element.setAttribute("type",e),this.element.classList.add(...n),i&&this.element.setAttribute("value",i),this.element.addEventListener("input",(t=>this.getInputValue(t)))}}e.UIInput=s},91:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GarageContainer=void 0;const i=n(425),s=n(524),a=n(259);n(814);class r extends i.Component{constructor(t){super(t,"div",["garage-container"]),this.removeCar=()=>{},this.updateCar=()=>{},this.updatePage=()=>{},this.cars=[],this.title=new i.Component(this.element,"h2"),this.pagination=new a.Pagination(this.element),this.container=new i.Component(this.element,"div",["garage-container"]),this.pagination.updatePage=t=>this.updatePage(t)}updateTitle(t){this.title.element.innerHTML=`Garage - (${t} cars)`}clear(){this.container.element.innerHTML="",this.cars=[]}addItems(t,e){this.clear(),this.updateTitle(e),this.cars=t.map((t=>{const e=new s.GarageItem(this.container.element,t);return e.removeCar=t=>this.removeCar(t),e.updateCar=t=>this.updateCar(t),e}))}}e.GarageContainer=r},524:function(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(s,a){function r(t){try{l(i.next(t))}catch(t){a(t)}}function o(t){try{l(i.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,o)}l((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.GarageItem=void 0;const s=n(425),a=n(651),r=n(597),o=n(724);class l extends s.Component{constructor(t,e){super(t,"div",["garage-item"]),this.startEngine=()=>{},this.stopEngine=()=>{},this.removeCar=()=>{},this.updateCar=()=>{},this.speed=0,this.car=e;const n=new s.Component(this.element,"div",["garage-item-top"]);new a.UIButton(n.element,["btn-small"],"select").onClickButton=()=>{e.id&&this.updateCar(e.id)},new a.UIButton(n.element,["btn-small"],"remove").onClickButton=()=>{e.id&&this.removeCar(e.id),this.destroy()},new s.Component(n.element,"span",[],e.name);const i=new s.Component(this.element,"div",["garage-item-field"]),o=new s.Component(i.element,"div",["garage-item-control-block"]);this.startEngineButton=new a.UIButton(o.element,["btn-small"],"A"),this.startEngineButton.onClickButton=()=>{e.id&&this.startCarEngine(e.id)},this.stopEngineButton=new a.UIButton(o.element,["btn-small"],"B",!0),this.stopEngineButton.onClickButton=()=>{e.id&&this.stopCarEngine(e.id)},this.imageCar=new s.Component(i.element,"div",["car-image"]),this.imageCar.element.innerHTML=r.carImage(e.color),new s.Component(i.element,"img",["finish-flag"]).element.setAttribute("src","./assets/red-flag.svg")}updateButtons(t=!1){this.startEngineButton.setDisabled(t),this.stopEngineButton.setDisabled(!t)}stopCarEngine(t){var e;return i(this,void 0,void 0,(function*(){200===(yield o.stopEngineCar(t)).status&&(this.updateButtons(),this.speed=0,null===(e=this.carAnimation)||void 0===e||e.cancel(),this.imageCar.element.style.left="100px")}))}startCarEngine(t){return i(this,void 0,void 0,(function*(){const e=yield o.startEngineCar(t);if(200===e.status){this.updateButtons(!0);const{result:t}=e,n=t.distance/t.velocity;this.animationCar(n),yield this.switchToDriveMode(t)}}))}animationCar(t){this.carAnimation=this.imageCar.element.animate([{left:"100px"},{left:"calc(100% - 100px)"}],{duration:t,easing:"ease-in-out"}),this.carAnimation.play(),this.carAnimation.onfinish=()=>{this.imageCar.element.style.left="calc(100% - 100px)"}}switchToDriveMode(t){return i(this,void 0,void 0,(function*(){const e=yield o.switchToDriveMode(this.car.id);return new Promise((n=>{var i;500===e&&(null===(i=this.carAnimation)||void 0===i||i.pause()),200===e&&(this.speed=Math.floor(t.distance/t.velocity),n())}))}))}disableAllButtons(){this.startEngineButton.setDisabled(!0),this.stopEngineButton.setDisabled(!1)}}e.GarageItem=l},860:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OptionsButtons=void 0;const i=n(425),s=n(651);class a extends i.Component{constructor(t){super(t,"div",["garage-buttons"]),this.startRaceAllCars=()=>{},this.resetAllCars=()=>{},this.generateCars=()=>{},this.buttonRace=new s.UIButton(this.element,["garage-race-button"],"race"),this.buttonRace.onClickButton=()=>this.startRaceAllCars(),this.buttonReset=new s.UIButton(this.element,["garage-reset-button"],"reset",!0),this.buttonReset.onClickButton=()=>this.resetAllCars(),this.buttonGenerateCars=new s.UIButton(this.element,["garage-generate-button"],"generate cars"),this.buttonGenerateCars.onClickButton=()=>this.generateCars()}}e.OptionsButtons=a},481:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OptionsInputs=void 0;const i=n(425),s=n(651),a=n(674);class r extends i.Component{constructor(t,e,n=[]){super(t,"div",["garage-inputs"]),this.createCar=()=>{},this.state={name:"",color:"#000000"};const r=new i.Component(this.element,"div",["garage-input"]);this.input=new a.UIInput(r.element,"text",["garage-input"]),this.input.getInputValue=t=>this.updateState("name",t),this.inputColor=new a.UIInput(this.element,"color",["garage-color-input"],"#000000"),this.inputColor.getInputValue=t=>this.updateState("color",t),this.button=new s.UIButton(this.element,["garage-button"],e),this.button.element.setAttribute("disabled",""),this.button.onClickButton=()=>{this.createCar(this.state),this.resetSettings()},this.element.classList.add(...n)}updateState(t,e){const n=e.target;this.state[t]=n.value,this.button.element.toggleAttribute("disabled",""===this.state.name)}resetSettings(){this.state={name:"",color:"#000000"},this.updateInputs()}updateInputs(){this.input.element.value=this.state.name,this.inputColor.element.value=this.state.color,this.button.element.setAttribute("disabled","")}}e.OptionsInputs=r},0:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GarageOptions=void 0;const i=n(425),s=n(860),a=n(481);n(704);class r extends i.Component{constructor(t){super(t,"div",["garage-options"]),this.startRaceAllCars=()=>{},this.resetAllCars=()=>{},this.generateCars=()=>{},this.createCar=()=>{},this.updateCar=()=>{},new a.OptionsInputs(this.element,"create",["garage-create-inputs"]).createCar=t=>this.createCar(t),this.updateInputs=new a.OptionsInputs(this.element,"update",["garage-update-inputs"]),this.updateInputs.createCar=()=>{this.updateCar(this.updateInputs.state)},this.optionsButtons=new s.OptionsButtons(this.element),this.optionsButtons.startRaceAllCars=()=>this.startRaceAllCars(),this.optionsButtons.resetAllCars=()=>this.resetAllCars(),this.optionsButtons.generateCars=()=>this.generateCars()}updateState(t){this.updateInputs.state=t,this.updateInputs.updateInputs()}}e.GarageOptions=r},977:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Header=void 0;const i=n(425);n(803);class s extends i.Component{constructor(t){super(t,"div",["header"]),this.navItems=[],this.linkToGarage=new i.Component(this.element,"a",["nav__item"],"Garage");const e=document.createElement("img");e.classList.add("header-logo"),e.src="./assets/logo.svg",this.element.append(e),this.linkToWinners=new i.Component(this.element,"a",["nav__item"],"Winners"),this.linkToGarage.element.setAttribute("href","#/"),this.linkToWinners.element.setAttribute("href","#/winners"),this.navItems=[this.linkToGarage,this.linkToWinners],window.addEventListener("hashchange",(()=>this.updateActive(this.navItems))),window.addEventListener("load",(()=>this.updateActive(this.navItems)))}updateActive(t){this.navItems=t.map((t=>(t.element.classList.remove("nav__item--active"),t.element.getAttribute("href")===window.location.hash&&t.element.classList.add("nav__item--active"),t)))}}e.Header=s},192:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.WinnerPopup=void 0;const i=n(425);n(262);class s extends i.Component{constructor(t,e){super(t,"div",["popup-winner"]);const n=new i.Component(this.element,"h2",["popup-winnet-title"]);n.element.style.color=`${e.color}`,n.element.innerHTML=`\n        Winner\n        <span>${e.name}</span>\n        in\n        <span>${e.speed}</span>\n        sec...\n        `}}e.WinnerPopup=s},597:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.carImage=void 0,n(575),e.carImage=function(t){return`\n    <svg class="car-image-svg" version="1.2" baseProfile="tiny-ps" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1280 569" width="1280" height="569">\n    <title>1918554-svg</title>\n    <style>\n      tspan { white-space:pre }\n    </style>\n    <g id="Layer">\n      <path id="Layer" fill-rule="evenodd" style="fill: ${t}" d="M382.2 112.9L386.9 115.9L405.7 114.5C535.1 105 645.1 108.8 694.9 124.5C720.8 132.7 798.8 173.4 880.1 221.1L903.7 235L926.6 235C979.6 235.1 1079.7 245.3 1132 256.1C1185.5 267.1 1226.6 278.7 1248.8 289.1C1266.8 297.5 1272.5 303 1277.1 316.5C1279.3 323 1279.5 324.9 1279.4 342.5C1279.3 361.6 1278.4 372.3 1275.3 392.2C1273.7 402.4 1273.7 403.3 1275.5 411.2C1276.6 415.8 1277.4 423.1 1277.5 427.5C1277.5 434.5 1277.1 436.1 1274.7 440.2C1269.6 448.9 1262.3 452.6 1244.3 455.4C1235.1 456.8 1197.2 459.6 1196.5 458.8C1196.3 458.6 1196.9 455.3 1197.7 451.5C1199.7 442.6 1200 416.9 1198.2 408.5C1191.9 379 1176.1 355.5 1152.2 339.8C1112.6 314 1067.8 314.9 1027.9 342.2C999.7 361.4 984.8 386.1 982 418.1C980.9 431.7 983.2 455.5 986.5 464.2C987.2 465.9 972.5 466 687 466L386.8 466L387.6 457.8C389.2 442.4 388.5 416.5 386.3 405.9C379.5 374.1 358.1 347.6 326.5 331.7C277.7 307.3 214.1 326.7 186 374.6C176.4 391.1 172.1 407.5 171.4 430.5L170.9 446.5L167.7 446.3C155.9 445.6 69.4 437.4 59 435.9C40.2 433.3 25.2 425.7 23.5 417.8C22.6 413.8 17.6 408.4 10.3 403.5C7.1 401.4 4.4 399.5 4.2 399.4C3 398.8 0.9 380.4 1.4 375C2.4 365.3 2.4 364.9 1.1 359.1C-1.5 346.7 0.9 323 5.9 312.4C8.6 306.6 14 301 16.9 301C17.9 301 18 298.9 17.5 292.2C16 273 16.4 265.1 19.4 255.2C22.4 245.2 22.3 241.1 18.9 237.5C17.1 235.5 17.1 235.3 21.8 227.5L26.5 219.5L38 219.3C63.8 218.8 89.9 216.2 100 213C101.9 212.4 110.4 211.5 118.9 211C138.8 209.7 144.7 208.3 161 200.6C186.5 188.5 243.9 164.9 321.3 134.5C332.2 130.2 341.5 126 341.9 125.1C342.4 124.2 343.1 121 343.5 118C344.6 108.7 345.3 107.7 352.5 105.9C359.9 104 373 107.1 382.2 112.9ZM542.4 132.5L523 132.4C501 132.4 496.6 132.5 472 134C390.1 139.1 347.1 148.2 310.2 168C296.6 175.4 292.2 178.8 291 182.8C288.2 192.9 290.7 206.3 296.9 215.4C307.8 231.3 318.5 235.3 354.2 236.9C392.4 238.7 558.9 243.4 559.6 242.7C559.9 242.4 555.8 211.1 552.5 188.5C549.5 167.5 545 141.5 543.7 137L542.4 132.5ZM583 134L578.3 134L595.8 188L613.4 242L794.2 242L793.3 237.7C791.8 230.1 792.4 222.7 794.8 218.8C797.4 214.7 804 211 808.8 211C810.6 211 812 210.7 812 210.2C811.9 209 788.1 191.9 774 183.1C747.1 166.2 723 155.1 702 149.9C680.3 144.6 646.9 139.6 608.6 136C597.1 134.9 585.5 134 583 134Z" />\n      <path id="Layer" fill-rule="evenodd" style="fill: ${t}" d="M306.2 328.9C343.9 338.7 372.8 367.9 382.2 405.7C385.2 417.6 385.4 440.7 382.6 452.4C370.9 502.4 325.7 536.6 275 533.7C230 531.1 191.6 499.6 180.3 456C177.2 444.2 176.2 426.7 177.9 415C184.3 371.5 218.6 335.7 261.7 327.5C272.6 325.5 295.7 326.2 306.2 328.9ZM267.5 357.4C252.7 360.2 240.1 367 229 378C217.8 389.2 211.4 401.4 208.4 416.6C197.9 471.7 252.2 518 305.3 499.4C328.4 491.4 346.8 471.2 352.6 447.5C355 438 354.9 420.7 352.6 412C348.5 396.9 339.1 382.1 327.5 372.7C320.4 367 307.9 360.6 299.5 358.5C291 356.3 275.9 355.8 267.5 357.4Z" />\n      <path id="Layer" style="fill: ${t}" d="M291.8 383.2C292 392.2 292.5 399.9 293 400.4C294.7 402.1 303.8 394.6 313.1 383.8L318.2 378.1L313.4 375C308.2 371.7 300.3 368.5 294.9 367.5L291.5 366.9L291.8 383.2Z" />\n      <path id="Layer" style="fill: ${t}" d="M259.1 370C252.9 372.2 242.4 378.2 242.7 379.4C243 380.7 266.4 401 267.6 401C268.3 401 269.1 400.3 269.4 399.4C270.2 397.4 270.2 386.7 269.3 376.2C268.6 366.7 268.5 366.6 259.1 370Z" />\n      <path id="Layer" style="fill: ${t}" d="M320.9 404.5C315.2 410.9 310.4 416.8 310.2 417.6C309.6 420.1 314.8 421.1 325.9 420.5C331.7 420.2 338 419.7 339.8 419.4C343.1 418.9 343.2 418.8 342.5 415.2C341.8 410.8 336.1 398.5 333.3 395.1L331.4 392.7L320.9 404.5Z" />\n      <path id="Layer" style="fill: ${t}" d="M226 399.1C222.9 403.5 219.2 412.4 218.3 417.7L217.7 421L233.2 421C249.7 421 253.3 420.1 251.3 416.6C250 414.2 230.9 395 229.9 395C229.4 395 227.7 396.8 226 399.1Z" />\n      <path id="Layer" style="fill: ${t}" d="M278.6 404.6C275 408.1 278.6 413.3 283 411C285.6 409.6 285.6 405.4 283.1 404C280.6 402.7 280.4 402.7 278.6 404.6Z" />\n      <path id="Layer" style="fill: ${t}" d="M275.1 421.4C269.4 424.6 268.3 432.5 272.9 437.1C277.2 441.3 283 441.4 287.2 437.2C291.4 433 291.3 427.2 287.1 422.9C283.8 419.7 279.3 419.1 275.1 421.4Z" />\n      <path id="Layer" style="fill: ${t}" d="M256 426.4C254.1 428.7 255.2 432.5 257.8 432.8C262.2 433.5 264.5 429.6 261.4 426.6C259.5 424.6 257.6 424.6 256 426.4Z" />\n      <path id="Layer" style="fill: ${t}" d="M300.2 427.6C297.5 429.5 297.4 431.2 299.9 433.4C302.4 435.7 306 434 306 430.5C306 427.2 303 425.6 300.2 427.6Z" />\n      <path id="Layer" style="fill: ${t}" d="M224.5 440.7C216.8 441.3 216.9 441.2 218.6 447.2C220.2 452.7 224.7 461.8 227.8 465.8L229.6 468.1L239.9 455.9C245.6 449.2 250.3 443 250.4 442.1C250.5 440.7 249 440.5 240 440.4C234.2 440.4 227.3 440.5 224.5 440.7Z" />\n      <path id="Layer" style="fill: ${t}" d="M316.5 441.9C312.1 442.3 310.4 442.9 310.2 444.1C309.9 445.7 331.2 467 333 467C335.2 467 341.6 452.9 343.5 444.2L344.2 441L333.3 441.2C327.4 441.3 319.8 441.6 316.5 441.9Z" />\n      <path id="Layer" style="fill: ${t}" d="M277.6 448.6C275.7 450.4 275.7 450.6 277 453.1C277.6 454.2 279.1 455 280.5 455C282.5 455 285 452.6 285 450.6C285 449.6 281.8 447 280.5 447C279.8 447 278.4 447.7 277.6 448.6Z" />\n      <path id="Layer" style="fill: ${t}" d="M258.9 465.7C250.3 474.7 245 480.8 245 481.9C245 484.4 262.9 492 268.6 492L271.3 492L270.6 477.7C269.7 461.1 269.3 459 267.1 459C266.2 459 262.5 462 258.9 465.7Z" />\n      <path id="Layer" style="fill: ${t}" d="M293.6 459.9C293 460.9 291.2 476.7 290.7 485.7C290.4 491.7 290.5 492 292.6 492C300.5 492 318.8 485.2 317.4 482.8C316.9 482.1 312.1 476.4 306.6 470.2C297.3 459.7 294.9 457.8 293.6 459.9Z" />\n      <path id="Layer" fill-rule="evenodd" style="fill: ${t}" d="M1177.4 372.3C1211.7 424 1193.4 494.1 1138.2 522.3C1112.5 535.4 1085.4 537.5 1058 528.4C1045.7 524.3 1038.1 520.2 1026.9 511.8C988.2 482.6 975.7 427.1 998 383C1012.6 354.1 1040.5 333.3 1072.3 327.5C1112.3 320.2 1154.9 338.4 1177.4 372.3ZM1068.9 359.5C1036.5 370 1015.3 400.5 1017.3 434C1018.9 460.8 1034.6 484.4 1058.5 496C1104.4 518.2 1157.3 489.4 1164 438.6C1168.7 403.3 1145.6 368.8 1110.8 359C1097.8 355.3 1081.1 355.5 1068.9 359.5Z" />\n      <path id="Layer" style="fill: ${t}" d="M1101.7 383.2C1102 392.2 1102.6 399.9 1103.1 400.4C1104.4 401.8 1108.4 398.6 1118.6 388.2L1128.1 378.5L1125.8 376.7C1120.8 372.7 1106.9 367 1102.3 367C1101.3 367 1101.2 370.3 1101.7 383.2Z" />\n      <path id="Layer" style="fill: ${t}" d="M1070.5 369.4C1065.5 371 1057.2 375.2 1054.2 377.6L1051.9 379.5L1064 390.2C1070.7 396.2 1076.8 401 1077.5 401C1079.8 401 1080.2 397.1 1079.5 382.4C1078.7 366.2 1079.1 366.7 1070.5 369.4Z" />\n      <path id="Layer" style="fill: ${t}" d="M1130.7 404.6C1124.8 411.1 1120 417.2 1120 418.2C1120 419.3 1121.1 420 1123.8 420.4C1128.2 421.1 1151.6 419.7 1152.7 418.7C1154.2 417.1 1147.6 400.4 1143.3 395.1L1141.4 392.7L1130.7 404.6Z" />\n      <path id="Layer" style="fill: ${t}" d="M1036.2 398.7C1032.3 404.9 1029.2 412.1 1028.4 417.1L1027.7 421L1042.9 421C1051.5 421 1059 420.5 1060.1 420C1061.8 419 1061.9 418.7 1060.6 416.2C1059.8 414.7 1054.7 409.1 1049.2 403.7L1039.3 393.8L1036.2 398.7Z" />\n      <path id="Layer" style="fill: ${t}" d="M1088.8 404.1C1086.4 405.5 1086.5 409.7 1089 411C1093.4 413.3 1097 408.1 1093.4 404.6C1091.6 402.7 1091.1 402.7 1088.8 404.1Z" />\n      <path id="Layer" style="fill: ${t}" d="M1085.1 421.3C1080.2 424.2 1078.5 431.4 1081.6 435.9C1082.5 437.2 1084.8 438.8 1086.6 439.6C1089.5 440.8 1090.5 440.8 1093.4 439.6C1103.3 435.5 1101.9 421.6 1091.5 420.4C1089.1 420.1 1086.5 420.5 1085.1 421.3Z" />\n      <path id="Layer" style="fill: ${t}" d="M1066 426.4C1064.1 428.7 1065.2 432.5 1067.8 432.8C1072.2 433.5 1074.5 429.6 1071.4 426.6C1069.5 424.6 1067.6 424.6 1066 426.4Z" />\n      <path id="Layer" style="fill: ${t}" d="M1109.6 427.6C1108.7 428.4 1108 429.8 1108 430.5C1108 431.8 1110.6 435 1111.6 435C1113.6 435 1116 432.5 1116 430.5C1116 429.1 1115.2 427.6 1114.1 427C1111.6 425.7 1111.4 425.7 1109.6 427.6Z" />\n      <path id="Layer" style="fill: ${t}" d="M1033.5 440.9C1027.5 441.5 1027.5 441.5 1027.8 444.5C1028.7 451.4 1038.2 469.3 1040 467.4C1045.7 461.3 1061 442.4 1060.7 441.6C1060.3 440.4 1043.1 439.9 1033.5 440.9Z" />\n      <path id="Layer" style="fill: ${t}" d="M1126.7 441.7C1119.9 442.2 1118.8 443.6 1122 447.7C1124.3 450.8 1142 467 1143 467C1143.3 467 1145 464.6 1146.7 461.7C1149.6 456.9 1151.9 450.6 1153.4 443.7L1154 441L1143.3 441.2C1137.3 441.3 1129.9 441.5 1126.7 441.7Z" />\n      <path id="Layer" style="fill: ${t}" d="M1087 449C1085.4 452.1 1087.4 455.2 1090.8 454.8C1092.9 454.6 1093.6 453.9 1093.8 451.6C1094.3 447.1 1089.1 445.1 1087 449Z" />\n      <path id="Layer" style="fill: ${t}" d="M1065.1 469.7C1059.5 475.6 1055 481 1055 481.7C1055 484.5 1072.2 492 1078.7 492L1081.3 492L1080.6 479.7C1079.6 461.8 1079.1 459 1077 459C1076 459 1070.7 463.8 1065.1 469.7Z" />\n      <path id="Layer" style="fill: ${t}" d="M1103.5 459.9C1102.8 461.1 1101.2 474.3 1100.6 484.2C1100.2 491.9 1100.2 492 1102.5 492C1107 492 1115.5 489.8 1121.8 486.9L1128.2 484L1126.3 481.7C1119.8 473.5 1106.5 459 1105.4 459C1104.7 459 1103.9 459.4 1103.5 459.9Z" />\n    </g>\n  </svg>`}},272:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.randomRGBColor=void 0,e.randomRGBColor=(t=0,e=255)=>{const n=()=>t+Math.floor(Math.random()*(e-t+1));return`rgb(${n()},${n()},${n()})`}},259:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Pagination=void 0;const i=n(425),s=n(651);n(191);class a extends i.Component{constructor(t){super(t,"div",["pagination"]),this.updatePage=()=>{},this.page=1,this.title=new i.Component(this.element,"h3",["pagination__title"],`Page #${this.page}`),this.prevButton=new s.UIButton(this.element,["btn-prev"],"Prev",!0),this.prevButton.onClickButton=()=>this.switchPage("prev"),this.nextButton=new s.UIButton(this.element,["btn-next"],"Next"),this.nextButton.onClickButton=()=>this.switchPage("next")}updateNextButton(t,e,n){t>e/n?this.nextButton.setDisabled(!0):this.nextButton.setDisabled(!1)}updatePrevButton(){1===this.page?this.prevButton.setDisabled(!0):this.prevButton.setDisabled(!1)}switchPage(t){"prev"===t&&this.page>1&&this.page--,"next"===t&&this.page++,this.title.element.innerHTML=`Page #${this.page}`,this.updatePage(this.page),this.updatePrevButton()}}e.Pagination=a},375:function(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(s,a){function r(t){try{l(i.next(t))}catch(t){a(t)}}function o(t){try{l(i.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,o)}l((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.WinnersContainer=void 0;const s=n(425),a=n(883),r=n(724),o=n(259);n(621);class l extends s.Component{constructor(t){super(t,"div",["winners-container"]),this.updatePage=()=>{},this.sortWinners=()=>{},this.winnersList=[],this.title=new s.Component(this.element,"h2",["winners-title"]),this.pagination=new o.Pagination(this.element),this.pagination.updatePage=t=>this.updatePage(t);const e=new s.Component(this.element,"div",["winner-item","winner-items-title"]);e.element.innerHTML='\n        <div class="winner-item-id">â„–</div>\n        <div class="winner-item-image">Car Image</div>\n        <div class="winner-item-name">Name</div>\n        <div class="winner-item-wins">\n          <span>Total Wins</span>\n          <img class="winner-item-arrow" src="./assets/arrow.svg" />\n        </div>\n        <div class="winner-item-time">\n          <span>Time (sec)</span>\n          <img class="winner-item-arrow" src="./assets/arrow.svg" />\n        </div>\n      ';const n=e.element.querySelector(".winner-item-wins");null==n||n.addEventListener("click",(()=>this.handleSortWinners(n,"wins")));const i=e.element.querySelector(".winner-item-time");null==i||i.addEventListener("click",(()=>this.handleSortWinners(i,"time"))),this.container=new s.Component(this.element,"div")}handleSortWinners(t,e){t.classList.toggle("winner-item-active"),t.classList.contains("winner-item-active")?this.sortWinners(e,"ASC"):this.sortWinners(e,"DESC")}updateTitle(t){this.title.element.innerHTML=`Winners - (${t} cars)`}getCar(t){return i(this,void 0,void 0,(function*(){return yield r.getCar(t)}))}addWinners(t){this.container.element.innerHTML="",this.winnersList=t.result;let e=1;t.totalCount&&this.updateTitle(t.totalCount),this.winnersList.forEach((t=>i(this,void 0,void 0,(function*(){const n=yield this.getCar(t.id);if(n){const i={id:e++,name:n.name,color:n.color,wins:t.wins,time:t.time};new a.WinnersItem(this.container.element,i)}}))))}}e.WinnersContainer=l},883:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.WinnersItem=void 0;const i=n(425),s=n(597);class a extends i.Component{constructor(t,e){super(t,"div",["winner-item"]);const{id:n,name:a,color:r,wins:o,time:l}=e;new i.Component(this.element,"div",["winner-item"]).element.innerHTML=`\n        <div class="winner-item-id">${n}</div>\n        <div class="winner-item-image">${s.carImage(r)}</div>\n        <div class="winner-item-name">${a}</div>\n        <div class="winner-item-wins">${o}</div>\n        <div class="winner-item-time">${l}</div>\n        `}}e.WinnersItem=a},783:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.cars=void 0,e.cars={mark:["saab","volvo","bmw","mercedes-benz","subaru","jaguar","dodge","audi","fiat","kia"],model:["9000","s70","320","w210","impreza","nx40","california","tt","500","rio"]}},535:function(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(s,a){function r(t){try{l(i.next(t))}catch(t){a(t)}}function o(t){try{l(i.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,o)}l((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.Garage=void 0;const s=n(91),a=n(425),r=n(0),o=n(724),l=n(272),d=n(783),u=n(192);class h extends a.Component{constructor(t){super(t,"div",["garage"]),this.page=1,this.getAllCars(this.page),this.garageOptions=new r.GarageOptions(this.element),this.garageOptions.createCar=t=>i(this,void 0,void 0,(function*(){yield this.createCar(t),yield this.getAllCars(this.page)})),this.garageOptions.updateCar=t=>this.updateCar(t),this.garageOptions.startRaceAllCars=()=>this.startRaceAllCars(),this.garageOptions.resetAllCars=()=>this.resetAllCars(),this.garageOptions.generateCars=()=>this.generateRandomCars(),this.garageContainer=new s.GarageContainer(this.element),this.garageContainer.removeCar=t=>this.removeCar(t),this.garageContainer.updateCar=t=>this.getCar(t),this.garageContainer.updatePage=t=>{this.page=t,this.getAllCars(t)}}getAllCars(t){return i(this,void 0,void 0,(function*(){const e=yield o.getAllCars(t);if(e){const t=e.cars,n=e.count;this.garageContainer.addItems(t,n),this.garageContainer.pagination.updateNextButton(this.page,+n,7)}}))}getCar(t){return i(this,void 0,void 0,(function*(){const e=yield o.getCar(t);e&&this.garageOptions.updateState(e)}))}updateCar(t){return i(this,void 0,void 0,(function*(){yield o.updateCar(t),yield this.getAllCars(this.page)}))}createCar(t){return i(this,void 0,void 0,(function*(){yield o.createCar(t)}))}removeCar(t){return i(this,void 0,void 0,(function*(){yield o.deleteCar(t),yield o.deleteWinner(t),yield this.getAllCars(this.page)}))}generateRandomCars(){return i(this,void 0,void 0,(function*(){this.garageOptions.optionsButtons.buttonRace.setDisabled(!0),this.garageOptions.optionsButtons.buttonGenerateCars.setDisabled(!0);const{mark:t,model:e}=d.cars;for(let n=0;n<=100;n-=-1){const n=`${t[Math.floor(Math.random()*t.length)]} ${e[Math.floor(Math.random()*e.length)]}`;yield this.createCar({name:n,color:l.randomRGBColor()})}yield this.getAllCars(this.page),this.garageOptions.optionsButtons.buttonRace.setDisabled(!1),this.garageOptions.optionsButtons.buttonGenerateCars.setDisabled(!1)}))}startRaceAllCars(){return i(this,void 0,void 0,(function*(){this.garageOptions.optionsButtons.buttonRace.setDisabled(!0),this.garageOptions.optionsButtons.buttonGenerateCars.setDisabled(!0);const t=this.garageContainer.cars.map((t=>i(this,void 0,void 0,(function*(){return yield t.startCarEngine(t.car.id),t.disableAllButtons(),t})))),e=yield Promise.race(t),n={id:e.car.id,name:e.car.name,color:e.car.color,speed:+(e.speed/1e3).toFixed(2),wins:1};this.winnerPopup=new u.WinnerPopup(this.element,n),this.garageOptions.optionsButtons.buttonReset.removeDisabled(),setTimeout((()=>{var t;return null===(t=this.winnerPopup)||void 0===t?void 0:t.destroy()}),5e3),yield this.createOrUpdateWinner(n)}))}createOrUpdateWinner(t){return i(this,void 0,void 0,(function*(){const e=yield o.getWinner(t.id);200===e.status?(e.result.wins++,t.wins=e.result.wins,yield this.updateWinner(t)):yield this.createWinner(t)}))}createWinner(t){return i(this,void 0,void 0,(function*(){const e={id:t.id,wins:1,time:t.speed};yield o.createWinner(e)}))}updateWinner(t){return i(this,void 0,void 0,(function*(){const e={id:t.id,wins:t.wins,time:t.speed};yield o.updateWinner(e)}))}resetAllCars(){var t;this.garageOptions.optionsButtons.buttonReset.setDisabled(!0);const e=null===(t=this.garageContainer.cars)||void 0===t?void 0:t.map((t=>i(this,void 0,void 0,(function*(){yield t.stopCarEngine(t.car.id)}))));Promise.all(e).then((()=>{this.garageOptions.optionsButtons.buttonRace.removeDisabled(),this.garageOptions.optionsButtons.buttonGenerateCars.removeDisabled()}))}}e.Garage=h},654:function(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(s,a){function r(t){try{l(i.next(t))}catch(t){a(t)}}function o(t){try{l(i.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,o)}l((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.Winners=void 0;const s=n(425),a=n(375),r=n(724);class o extends s.Component{constructor(t){super(t,"div",["winners"]),this.winnersContainer=new a.WinnersContainer(this.element),this.page=1,this.getAllWinners(),this.winnersContainer.updatePage=t=>{this.page=t,this.getAllWinners(this.page)},this.winnersContainer.sortWinners=(t,e)=>{this.getAllWinners(this.page,t,e)}}getAllWinners(t=0,e="id",n="ASC"){return i(this,void 0,void 0,(function*(){const i=yield r.getAllWinners(t,e,n),s=+i.totalCount;this.winnersContainer.pagination.updateNextButton(this.page,s,10),this.winnersContainer.addWinners(i)}))}}e.Winners=o},440:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Router=void 0;const i=n(535),s=n(654);e.Router=class{constructor(t){this.rootElement=t,this.garagePage=new i.Garage(this.rootElement),this.routes=[{name:"/",component:()=>{this.rootElement.append(this.garagePage.element)}},{name:"/winners",component:()=>{this.winnersPage=new s.Winners(this.rootElement),this.rootElement.append(this.winnersPage.element)}}],this.defaultRoute={name:"Default router",component:()=>{this.rootElement.innerHTML="Default Page"}}}updateRouter(){this.rootElement.innerHTML="";const t=window.location.hash.slice(1);(this.routes.find((e=>e.name===t))||this.defaultRoute).component()}initRouter(){""===window.location.hash&&(window.location.hash="#/"),window.onpopstate=()=>this.updateRouter(),this.updateRouter()}}},425:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Component=void 0,e.Component=class{constructor(t,e="div",n=[],i=""){this.element=document.createElement(e),this.element.classList.add(...n),this.element.textContent=i,t&&t.append(this.element)}destroy(){this.element.remove()}}}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var a=e[i]={exports:{}};return t[i].call(a.exports,a,a.exports,n),a.exports}n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{const t=n(752);n(850),window.addEventListener("DOMContentLoaded",(()=>{const e=document.body;new t.App(e).init()}))})()})();